# -*- mode: snippet -*-
# name: read alpha
# uuid:
# key: ra
# condition: t
# --

fn = $1
fb = BDIO_open(fn, "r")
obs = []
dobs = []
while ALPHAdobs_next_p(fb)
    d = ALPHAdobs_read_parameters(fb)
    push!(dobs, d)
    extra_info = d["extra"]
    sz = tuple(d["size"]...)

    dw = ALPHAdobs_read_next(fb, size=sz)
    push!(obs, dw)
end
BDIO_close!(fb)
